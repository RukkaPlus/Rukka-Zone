{% extends 'docs-layout.html' %}

{% block head %}
<link rel="icon" href="{{ url_for('static', filename='img/gui.svg') }}">
{% endblock %}

{% block title %}Tkinter{% endblock %}

{% block header %}
<div>
  <h1>Tkinter</h1>
  <p><b>Tkinter</b> es una libreria (generalmente integrada) que permite el desarrollo de interfaces graficas de usuario (<b>GUI</b>) sencillas y rapidas para el lenguaje <b>Python</b>. Al ser muy basica, carece de funcionalidades mas avanzadas que ofrecen herramientas como <b>wxPython</b> o <b>Kivy</b> <br> Aun asi, puede ser usada para desarrollar diversas aplicaciones de escritorio como <b>Windows</b>, <b>Linux</b> y <b>MacOS</b>. Ademas, herramientas de cerrado de codigo como <b>pyinstaller</b> permite cerrar el codigo y ejecutarlo adecuadamente</p>
</div>
<img src="{{ url_for('static', filename='img/gui.svg') }}" alt="tkinter">
{% endblock %}

{% block index %}
<li><a href="#hello-world">Hello, world!</a></li>
<li><a href="#frame">Frames | Marcos</a></li>
<li><a href="#root">Raiz</a></li>
<li><a href="#label">Labels | Etiquetas</a></li>
<li><a href="#button">Buttons | Botones</a></li>
<li><a href="#checkbutton">Checkbuttons | Botones seleccionables</a></li>
<li><a href="#radiobutton">Radiobuttons | Botones radiales</a></li>
<li><a href="#entry">Entry | Entrada de texto</a></li>
<li><a href="#text">Text | Textos largos</a></li>
<li><a href="#menu">Menu</a></li>
<li><a href="#popup">Popups</a></li>
<li><a href="#text-editor">Editor de texto</a></li>
{% endblock %}

{% block main %}
<article>
  <section>
    <h2 id="hello-world">Hello, world!</h2>
    <p>Un ejemplo muy sencillo del uso que podemos darle a Tkinter es mediante la ventana de prueba <b>Hello, world!</b></p>
    <pre><code class="language-python">from tkinter import TK

# Inicio de la raiz de la ventana
raiz = Tk()
# Definiendo el titulo de la ventana
raiz.title("Hello, world!")
# Bloqueando el redimensionado vertical 
raiz.resizable(1, 0) # resizable(y, x) # Se usan 0 o 1 (True o False)
# Definiendo el icono de la ventana
raiz.iconbitmap('@hola.xbm') # En Windows es recomendable usar la extension '*.ico'
                             # En GNU/Linux es recomendable usar imagenes '*.xbm'
# Iniciando el bucle de ejecucion
raiz.mainloop() # (Siempre abajo del todo)</code></pre>
    <div class="w3-panel note">
      <p><b>Nota</b>: Un truco, en Windows, es que cambiemos la extension <code>.py</code> a <code>.pyw</code> para ocultar la terminal durante la ejecucion</p>
    </div>
  </section>
  <section>
    <h2 id="frame">Frames | Marcos</h2>
    <p>Los <b>Frames</b> o <b>Marcos</b> son espacios donde podemos ingresar componentes dentro de nuestra ventana</p>
    <pre><code class="language-python">import tkinter
raiz = tkinter.Tk() # Inicio de la raiz
raiz.resizable(1, 1)
raiz.iconbitmap('@hola.xbm')

# Para definir un marco
marco = tkinter.Frame(raiz)

# Debemos empaquetar el marco para empezar su ejecucion
marco.pack()

# Para elegir la posicion del widget
marco.pack(side = "right") # Esto es para ponerlo de un lado (side). En este caso elegimos "right"
                           # Pero podemos elegir entre: "bottom", "left", "top", "right"
marco.pack(side = "bottom", anchor = "e") # Aqui podemos anclarlo con otra posicion,
                                          # pero esta con los puntos cardinales "e"
                                          # (east), "w" (west), "n" (north), "s"(south)
marco.pack(fill = 'x') # Para llenar al ancho del padre ("x" de la linea x (horizontal);
                       # "y" de la linea y (vertical); O "both" que significa "ambos")
marco.pack(fill = 'y', expand = 1) # Con el atributo 'expand' podemos permitir que el
                                   # marco se expanda junto al padre (1 = True, 0 = False)
# Para configurar el marco
marco.config(width = 480, height = 320) # frame.config(ancho, alto)
marco.config(cursor = "pirate") # frame.config(cursor_style)
marco.config(bg = "lightblue") # frame.config(background)
marco.config(bd = 15, relief = "sunken") # frame.config(border_size, border_style)

# Esto tambien puede ser configurado a momento de instanciacion
# marco = tkinter.Frame(raiz, width = 480, height = 320) # Frame(root, ancho, alto)

# No olvidar el bucle de ejecucion
raiz.mainloop() # (Siempre abajo del todo)</code></pre>
  </section>
  <section>
    <h2 id="root">Raiz</h2>
    <p>La raiz es la representacion mas baja de la ventana, y es la que, generalmente, contiene todos sus marcos integrados <br> Para empezar la ejecucion y dibujado de la ventana es necesario ejecutar el metodo <code>mainloop</code> de la raiz</p>
    <pre><code class="language-python">import tkinter

# Primero debemos inicar una raiz
raiz = tkinter.Tk()

# Para cambiar el titulo
raiz.title("Hello, world!")

# Para bloquear el redimensionado
raiz.resizable(0, 0) # Los dos ceros indican que no debe ser redimensionable ni en alto ni en ancho
raiz.resizable(1, 0) # De esta forma solo lo podremos redimencionar horizontalmente
raiz.resizable(0, 1) # De esta otra solo lo podremos redimencionar verticalmente
raiz.resizable(1, 1) # Si lo dejamos todo a uno, podemos redimencionarlo como queramos

# Para importar un icono
raiz.iconbitmap('@hola.xbm') # En windows se deben importar archivos '.ico'

# Para configurar la ventana
raiz.config(cursor = "pirate") # root.config(cursor_style)
raiz.config(bg = "blue") # root.config(background)
raiz.config(bd = 15, relief = "ridge") # root.config(border_size, border_style)

# Aqui debemos abrir la ventana
# Esto siempre va abajo del todo
raiz.mainloop()</code></pre>
  </section>
  <section>
    <h2 id="label">Labels | Etiquetas</h2>
    <p>Las etiquetas pueden representar textos o imagenes que pueden ser desplegadas en un marco o ventana en general</p>
    <pre><code class="language-python">import tkinter
raiz = tkinter.Tk() # Inicio de la raiz
marco = tkinter.Frame(raiz, width = 480, height = 320)
marco.pack()

# Para definir una etiqueta
etiqueta = tkinter.Label(marco, text = "Hola mundo!") # Label(frame_or_root, text)

# Para posicionar
etiqueta.place(x = 0, y = 0)

# Para configurar la etiqueta
etiqueta.config(bg = "green", fg = "blue", font = ("Verdana", 15)) 

# Para colocar textos dinamicos
variable = tkinter.StringVar() # Definimos una variable compatible
variable.set("Un texto dinamico") # Definimos su valor
etiqueta.config(textvariable = variable) # Lo enlazamos a la variable

# Para insertar una imagen en una etiqueta
imagen = tkinter.PhotoImage(file = "hola.gif") # PhotoImage(path_to_file)
tkinter.Label(raiz, image = imagen, bd = 8).pack(side = "right") # Empacamos

raiz.mainloop() # (Siempre abajo del todo)</code></pre>
  </section>
  <section>
    <h2 id="button">Buttons | Botones</h2>
    <p>Dentro de los componentes disponibles en la libreria de Tkinter se encuentran los botones. Que permiten representar con una imagen o texto una directiva que ejecuta codigo al ser presionado con el mouse</p>
    <pre><code class="language-python">import tkinter
raiz = tkinter.Tk() # Instancia de la raiz

# [ Funciones del boton ]
def hola():
  print("Hello, world!")
def crear_etiqueta():
  tkinter.Label(raiz, text = "Hello, world!").pack()

# Para instanciar un boton
tkinter.Button(raiz, text = "Decir hola (terminal)", command = hola).pack()
tkinter.Button(raiz, text = "Decir hola (etiquetas)", command = crear_etiqueta).pack()

raiz.mainloop() # Siempre debajo del todo</code></pre>
  </section>
  <section>
    <h2 id="checkbutton">Checkbuttons | Botones seleccionables</h2>
    <p>Los checkbuttons son botones que en formato de cacillas que ejecutan codigo de forma similar a la que lo hacen los Buttons normales</p>
    <pre><code class="language-python">import tkinter
raiz     = tkinter.Tk() # Raiz de la ventana
marco    = tkinter.Frame(raiz)
etiqueta = tkinter.Label(marco)
# Sistema binario (1 = si, 0 = no)
leche  = tkinter.IntVar()
azucar = tkinter.IntVar()

# Funciones de los checkbuttons
def seleccionar():
  cadena = ""
  if (leche.get()):
    cadena += "Con leche"
  else:
    cadena += "Sin leche"
  if (azucar.get()):
    cadena += " y con azucar"
  else:
    cadena += " y sin azucar"
  etiqueta.config(text = cadena)

tkinter.Label(marco, text = "Como quieres el cafe?").pack()

# Para instanciar un boton seleccionable
tkinter.Checkbutton(marco, text = "Con leche",
  variable = leche, onvalue = 1, offvalue = 0,
  command = seleccionar).pack(anchor = "w")
tkinter.Checkbutton(marco, text = "Con azucar",
  variable = azucar, onvalue = 1, offvalue = 0,
  command = seleccionar).pack(anchor = "w")
# 'onvalue' establece un valor al estar seleccionada la casilla
# 'offvalue' establece un valor al no estar seleccionada la casilla
# 'command' ejecuta una funcion al detectar la presion de la casilla

marco.pack()
etiqueta.pack()

raiz.mainloop() # Siempre abajo del todo</code></pre>
  </section>
  <section>
    <h2 id="radiobutton">Radiobuttons | Botones radiales</h2>
    <p>Los botones radiales son parecidos a los checkbuttons. Sin embargo, estos son utilizados para cuando se requiere que <b>solo una opcion sea seleccionada</b></p>
    <pre><code class="language-python">import tkinter
raiz     = Tk() # Raiz
opcion   = IntVar()
etiqueta = Label(raiz)

raiz.config(bd = 15)
etiqueta.pack()

# Funciones de los radiobuttons
def seleccionar():
  etiqueta.config(text = "{}".format(opcion.get()))
def reiniciar():
  opcion.set(None)
  etiqueta.config(text = "")

# Para instanciar un boton radial
Radiobutton(raiz, text = "Opcion 1", variable = opcion,
  value = 1, command = seleccionar).pack()
Radiobutton(raiz, text = "Opcion 2", variable = opcion,
  value = 2, command = seleccionar).pack()
Radiobutton(raiz, text = "Opcion 3", variable = opcion,
  value = 3, command = seleccionar).pack()

# Boton para reiniciar las opciones
Button(raiz, text = "Reiniciar", command = reiniciar).pack() 

raiz.mainloop() # Siempre abajo del todo</code></pre>
  </section>
  <section>
    <h2 id="entry">Entry | Entrada de texto</h2>
    <p>El objeto Entry funciona como un campo de texto para ingresar textos desde la ventana</p>
    <pre><code class="language-python">import tkinter
raiz      = tkinter.Tk() # Creacion de la raiz
etiqueta1 = tkinter.Label(text = "Nombre")
etiqueta2 = tkinter.Label(text = "Contrasenia")
etiqueta1.grid(row = 0, column = 0, sticky = "w") # grid(fila, columna, alineacion)
etiqueta2.grid(row = 1, column = 0, sticky = "w")
# Tambien podemos usar 'pack', pero en esta ocasion, vamos a usar
# grillas con el metodo 'grid' (se puede aplicar a todo tipo de componentes)

# Para instanciar un campo de texto
entrada1 = tkinter.Entry(raiz) # Entry(root_or_frame)
entrada1.grid(row = 0, column = 1)
entrada2 = tkinter.Entry(raiz)
entrada2.grid(row = 1, column = 1)

# Para dar una justicaficacion a un campo
entrada1.config(justify = "right") # Justificacion a la derecha

# Para desactivar un campo de entrada
entrada1.config(state = "disabled") # Desactiva el campo
entrada1.config(state = "normal")   # Reactiva el campo

# Para ocultar el texto escrito
entrada2.config(show = "*") # Oculta con "*"

raiz.mainloop() # Siempre abajo del todo</code></pre>
  </section>
  <section>
    <h2 id="text">Text | Textos largos</h2>
    <p>Para el ingreso de textos largos es problematico el uso del objeto Entry, por lo que el objeto Text permite el ingreso de textos mas largos. Ademas, trabaja de una manera bastante parecida a Entry</p>
    <pre><code class="language-python">import tkinter
raiz = tkinter.Tk() # Instancia de la raiz

# Para instanciar una entrada de texto multilinea
texto = tkinter.Text(raiz) # Se pondra el tamanio por defecto
texto.pack()

# Para configurar la entrada de texto
texto.config(width = 30, height = 10,
  font = ("FreeMono", 12), padx = 5, pady = 15)
# Nota: La altura y anchura se ajusta NO por pixeles, sino por
# por caracteres

# Tambien podemos personalizar el color de seleccion de textos
texto.config(selectbackground = "red")

raiz.mainloop() # Siempre abajo del todo</code></pre>
  </section>
  <section>
    <h2 id="menu">Menu</h2>
    <p>El componente Menu es la barra lateral de menu que generalmente se encuentra en la parte superior de la ventana</p>
    <pre><code class="language-python">import tkinter
raiz = Tk() # Raiz de la ventana

# Para instanciar una barra de menu
menubar = tkinter.Menu(raiz)
# Para establecerlo en la ventana debemos configurarla nuestra raiz
raiz.config(menu = menubar) 

# Creando cascadas de menu
filemenu = tkinter.Menu(menubar, tearoff = 0) 
editmenu = tkinter.Menu(menubar, tearoff = 0)
helpmenu = tkinter.Menu(menubar)
# Con 'tearoff' eliminamos la lagrima. Las lagrimas desacoplan
# en  una ventana a parte una cascada de menu

# Agregando las cascadas definidas
menubar.add_cascade(label = "Archivos", menu = filemenu)
menubar.add_cascade(label = "Editar", menu = editmenu)
menubar.add_cascade(label = "Ayuda", menu = helpmenu)

# Para aniadir opciones a los botones de la barra de menu
filemenu.add_command(label = "Nuevo")
filemenu.add_command(label = "Abrir")
filemenu.add_command(label = "Guardar")
filemenu.add_command(label = "Cerrar")
filemenu.add_separator() # Separador!
filemenu.add_command(label = "Salir", command = raiz.quit)

editmenu.add_command(label = "Cortar")
editmenu.add_command(label = "Copiar")
editmenu.add_command(label = "Pegar")

helpmenu.add_command(label = "Documentacion")
helpmenu.add_separator()
helpmenu.add_command(label = "Acerca de")

raiz.mainloop() # Siempre abajo del todo</code></pre>
  </section>
  <section>
    <h2 id="popup">Popups</h2>
    <p>Las Popups son ventanas emergentes que podemos incluir en nuestra aplicacion de Tkinter</p>
    <pre><code class="language-python">from tkinter import Tk, Button
from tkinter import messagebox as MessageBox
from tkinter import filedialog as FileDialog
from tkinter import colorchooser as ColorChooser
raiz = Tk() # Inicio de la raiz

# Para definir una funcion con un Popup de aviso
def aviso():
  MessageBox.showinfo("Advice!", "Hello, world!")

# Para definir una funcion con un Popup de alerta
def alerta():
  MessageBox.showwarning("Alert!", "Hello, world!")

# Para definir una funcion con un Popup de error
def error():
  MessageBox.showerror("Error!", "Hello, world!")

# Para definir una funcion con un Popup de encuesta (0)
def encuesta_0():
  resultado = MessageBox.askquestion("Quiz!", "Hello, world?")
  print(resultado) # -> 'yes' | 'no'
  if resultado == "yes":
    raiz.destroy() # Destruye la ejecucion de la ventana

# Para definir una funcion con un Popup de encuesta (1)
def encuesta_1():
  resultado = MessageBox.askokcancel("Quiz!", "Hello, world?")
  print(resultado) # -> True | False

# Para definir una funcion con un Popup de encuesta (2)
def encuesta_2():
  resultado = MessageBox.askyesno("Quiz!", "Hello, world?")
  print(resultado) # -> True | False

# Para definir una funcion con un Popup de reintento
def reintento():
  resultado = MessageBox.askretrycancel("Retry!", "Hello, world!")
  print(resultado) # -> True | False

# Para definir una funcion con un Popup de seleccion de color
def seleccion_color():
  resultado = ColorChooser.askcolor(title = "Choose a color")
  print(resultado)

# Para definir una funcion con un Popup de exploracion de archivos
def seleccion_archivo():
  resultado = FileDialog.askopenfilename(title = "Choose a file")
  print(resultado)
def seleccion_archivo_():
  resultado = FileDialog.askopenfilename(
    title = "Choose a file",
    initialdir = "/",
    filetypes = (
      ("Ficheros de texto", "*.txt"),
      ("Ficheros de audio", "*.mp3"),
      ("Cualquier fichero", "*.*")),
    )
  print(resultado)

# Para definir una funcion con un Popup de guardado de archivo
def seleccion_guardado():
  resultado = FileDialog.asksaveasfile(title = "Save file")
  # Abre un fichero para guardarlo encima
  print(resultado)
def seleccion_guardado_():
  resultado = FileDialog.asksaveasfile(
    title = "Guardar archivo",
    mode = "w",
    defaultextension = ".txt",
  )
  if resultado is not None:
    resultado.write("Hello, world!")
    resultado.close()

Button(raiz, text = "Advice",      command = aviso).pack()
Button(raiz, text = "Alert",       command = alerta).pack()
Button(raiz, text = "Error",       command = error).pack()
Button(raiz, text = "Quiz (0)",    command = encuesta_0).pack()
Button(raiz, text = "Quiz (1)",    command = encuesta_1).pack()
Button(raiz, text = "Quiz (2)",    command = encuesta_2).pack()
Button(raiz, text = "Retry",       command = reintento).pack()
Button(raiz, text = "Color",       command = seleccion_olor).pack()
Button(raiz, text = "File",        command = seleccion_archivo).pack()
Button(raiz, text = "File +",      command = seleccion_archivo_).pack()
Button(raiz, text = "Save file",   command = seleccion_guardado).pack()
Button(raiz, text = "Save file +", command = seleccion_guardado_).pack()

raiz.mainloop() # Siempre abajo del todo</code></pre>
  </section>
  <section>
    <h2 id="text-editor">Editor de texto</h2>
    <p>Este es un ejemplo de editor de codigo escrito en <b>Python</b> con la libreria <b>Tkinter</b> estudiada</p>
    <pre><code class="language-python">from tkinter import *
from tkinter import filedialog as Filedialog

# [ Variables ]
ruta = "" # Para guardar la ruta del fichero

# [ Funciones ]
# Funciones de las barras de menu
def nuevo():
  global ruta # Indica que la variable 'ruta' es global y modificara esa
  mensaje.set("Nuevo fichero")
  ruta = ""
  texto.delete(1.0, "end") # Que borre desde el caracter 1
                           # hasta el final del cuadro de escritura
def abrir():
  global ruta
  mensaje.set("Abrir fichero")
  ruta = Filedialog.askopenfilename(
    initialdir = '.',
    filetypes = (("Ficheros de texto", "*.txt"),),
    title = "Abrir fichero")
  if ruta != "": # Abriendo el archivo seleccionado...
    fichero = open(ruta,"r")
    contenido = fichero.read() 
    texto.delete(1.0, "end") # Borra todo el cuadro de escritura
    texto.insert('insert',contenido) # Inserta el texto en el cuadro de escritura
    fichero.close() # Cierra el fichero
    root.title(ruta + " - Mi editor") # Cambia el titulo de la ventana por la ruta
def guardar():
  mensaje.set("Guardar fichero")
  if ruta != "":
    contenido = texto.get(1.0, "end-1c") # Lee todo lo escrito (menos el ultimo caracter
                                         # que es un salto de linea) en el cuadro de escritura
                                         # y lo almacena en 'contenido'
    fichero = open(ruta, 'w+') # Abre el fichero en modo de escritura y lectura
    fichero.write(contenido)
    fichero.close()
    mensaje.set("Guardado con exito!")
  else:
    guardar_como()
def guardar_como():
  global ruta
  mensaje.set("Guardar fichero como...")
  fichero = Filedialog.asksaveasfile(title = "Guardar como...", mode = "w",
    defaultextension = ".txt")
  if fichero is not None:
    ruta = fichero.name
    contenido = texto.get(1.0, "end-1c") # Lee todo lo escrito (menos el ultimo
                                         # caracter que es un salto de linea) en el
                                         # cuadro de escritura y lo almacena en 'contenido'
    fichero = open(ruta, 'w+') # Abre el fichero en modo de escritura y lectura
    fichero.write(contenido)
    fichero.close()
    mensaje.set("Guardado con exito!")
  else:
    mensaje.set("Guardado cancelado")
    ruta = ""

# [ Estructura ]
# Configuracion de la raiz
root = Tk()
root.title("Mi editor")

# Menu superior
menubar = Menu(root)
filemenu = Menu(menubar, tearoff = 0)
filemenu.add_command(label = "Nuevo", command = nuevo)
filemenu.add_command(label = "Abrir", command = abrir)
filemenu.add_command(label = "Guardar", command = guardar)
filemenu.add_command(label = "Guardar como...", command = guardar_como)
filemenu.add_separator()
filemenu.add_command(label = "Salir", command = root.quit)
menubar.add_cascade(menu = filemenu, label = "Archivo")

root.config(menu = menubar)

# Caja de texto central
texto = Text(root)
texto.pack(fill = 'both', expand = 1)
try: # Para Linux #
  texto.config(bd = 0, padx = 6, pady = 4, font = ("FreeMono", 12))
except: # Para Windows #
  texto.config(bd = 0, padx = 6, pady = 4, font = ("Consolas", 12))

# Monitor inferior
mensaje = StringVar()
mensaje.set("Bienvenido al editor")
monitorInf = Label(root, textvar = mensaje, justify = 'left')
monitorInf.pack(side = 'left')

# Siempre abajo del todo
root.mainloop()</code></pre>
  </section>
</article>
{% endblock %}